{% extends 'app/pages/base.html' %}

{% load bootstrap4 %}
{% load humanize %}
{% load phonenumber %}

{% block title %}Your Account{% endblock title %}

{% block content %}
  {% comment %}
  <section class='my-5'>
    <h2>
      Your Account
    </h2>
  </section>
  <section class='my-5'>
    <p class='lead'>
      Update your information below.
    </p>
  </section>
  {% endcomment %}

  <section class='my-5 col-lg-8'>
    <div class='card'>
      <h4 class='card-header'>
        Contact Information
      </h4>
      <form method='post'>
        {% csrf_token %}
        <div class='card-body'>
          {% bootstrap_form_errors form %}
          <div class='form-group'>
            <input type='text' name='phone' value='{{request.user.phone|phonenumber}}' class='form-control' disabled>
            <small class='form-text text-muted'>If you need to change your number please delete your account and start over.</small>
          </div>
          {% bootstrap_field form.name show_help=True show_label=False placeholder="Name" %}
        </div>
        <div class='card-footer'>
          <ul class='list-inline'>
            <li class='list-inline-item'>
              {% bootstrap_button "Save" button_type='submit' size='large' %}
            </li>
            <li class='list-inline-item'>
              {% url 'account' as account_url %}
              {% bootstrap_button "Cancel" button_type='link' href=account_url size='large' button_class='btn-outline-dark' extra_classes='ml-3'%}
            </li>
          </ul>
        </div>
      </form>
    </div>
  </section>

  {% if recipient %}
    <section class='my-5 col-lg-8'>
      <div class='card'>
        <h4 class='card-header'>
          Recipient Details
        </h4>
        <div class='card-body'>
          <ul class='list-unstyled'>
            <li><strong>Location:&nbsp;&nbsp;</strong>{{recipient.location}}</li>
            <li><strong>Size:&nbsp;&nbsp;</strong>{{recipient.get_size_display}}</li>
            <li><strong>Dog in Yard?&nbsp;&nbsp;</strong>{{recipient.is_dog|yesno|title}}</li>
            <li><strong>Notes:&nbsp;&nbsp;</strong>{{recipient.notes|default:"(No Notes)"}}</li>
          </ul>
        </div>
        <div class='card-footer'>
          <a href='{% url "recipient" %}' class="btn btn-lg btn-info">
            Update this Information
          </a>
        </div>
      </div>
    </section>
  {% else %}
    <section class='my-5 col-lg-8'>
      <a href='{% url "recipient-create" %}' class="btn btn-success btn-block btn-lg my-5">
        Register as a Recipient!
      </a>
    </section>
  {% endif %}
  {% if volunteer %}
    <section class='my-5 col-lg-8'>
      <div class='card'>
        <h4 class='card-header'>
          Volunteer Details
        </h4>
        <div class='card-body'>
          <ul class='list-unstyled'>
            <li><strong>Size:&nbsp;&nbsp;</strong>{{volunteer.get_size_display}}</li>
            <li><strong>Notes:&nbsp;&nbsp;</strong>{{volunteer.notes|default:"(No Notes)"}}</li>
          </ul>
        </div>
        <div class='card-footer'>
          <a href='{% url "volunteer" %}' class="btn btn-lg btn-info">
            Update this Information
          </a>
        </div>
      </div>
    </section>

  {% else %}
    <section class='my-5 col-lg-8'>
      <a href='{% url "volunteer-create" %}' class="btn btn-success btn-block btn-lg my-5">
      Signup as a Volunteer!
      </a>
    </section>
  {% endif %}


  {% comment %}
    <section class='my-5 col-lg-8'>
      <div class='card'>
        <h4 class='card-header'>Your Assignment</h4>
        <div class="card-body">
          {% if assignment %}
            <ul class='list-unstyled'>
              <li>Name:&nbsp;{{assignment.name}}</li>
              <li>Address:&nbsp;{{assignment.address}}</li>
              <li>Size:&nbsp;{{assignment.get_size_display}}</li>
              <li>Dog in Yard?&nbsp;{{assignment.is_dog|yesno|title}}</li>
            </ul>
          {% else %}
            <p class='card-text'>
              No current assignment; we expect these to be made November 8.
            </p>
          {% endif %}
        </div>
        <div class='card-footer'>
        </div>
      </div>
    </section>
  {% endcomment %}

  <section class='my-5 col-lg-8'>
    <p class='float-right'>
      <a class='text-danger' href='{% url "account-delete" %}'>Delete My Account and All Information</a>
    </p>
  </section>

{% endblock content %}
